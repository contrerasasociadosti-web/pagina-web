---
import { Award, MapPin } from '@lucide/astro';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';
import Whatsapp from '@/assets/whatsapp.svg';
import constants from '@/utils/constants';
import { getWhatsappUrl } from '@/utils/whatsappApi';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const whatsappUrl = getWhatsappUrl(constants.phoneNumber, t('whatsapp.message'));
---

<section id="home" class="relative py-20 lg:py-32 bg-gradient-to-br from-primary-50 to-primary-100">
  <div class="container mx-auto px-4 lg:px-6">
    <div class="grid lg:grid-cols-2 gap-12 items-center">
      <div class="space-y-8">
        <div class="space-y-4">
          <h1 class="text-4xl lg:text-6xl font-bold text-primary-800 leading-tight">
            {t('hero.title')}:
            <span class="block text-primary-600">{t('hero.subtitle')}</span>
          </h1>
          <p class="text-xl text-primary-700 leading-relaxed max-w-lg">{t('hero.description')}</p>
        </div>
        <div class="flex flex-col sm:flex-row gap-4">
          <a
            href={whatsappUrl}
            rel="noopener noreferrer"
            target="_blank"
            aria-label={t('hero.cta')}
            class="flex justify-center items-center gap-2 bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-md"
          >
            <Whatsapp class="h-6 w-6" />
            {t('hero.cta')}
          </a>
          <a
            href="#map"
            class="flex justify-center items-center gap-2 border border-primary-400 text-primary-700 hover:bg-primary-50 px-8 py-3 bg-transparent rounded-md"
          >
            <MapPin class="h-6 w-6" />
            {t('hero.cta2')}
          </a>
        </div>
        <div class="flex items-center space-x-8 pt-4">
          <div class="text-center">
            <div class="text-2xl font-bold text-slate-900">25+</div>
            <div class="text-sm text-slate-600">AÃ±os de Experiencia</div>
          </div>
        </div>
      </div>
      <div class="relative">
        <img
          src="/images/mainImage.webp"
          alt="Despacho de abogados profesional"
          width={500}
          height={600}
          class="rounded-lg shadow-2xl"
        />
        <div class="absolute -bottom-6 -left-6 bg-white p-6 rounded-lg shadow-lg border">
          <div class="flex items-center space-x-3">
            <Award class="h-8 w-8 text-amber-500" />
            <div>
              <div class="font-semibold text-slate-900">Certificados</div>
              <div class="text-sm text-slate-600">Colegio de Abogados</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
